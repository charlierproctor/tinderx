<div id="swipe" class="container">

	<div class="half-width">

		<!-- swiper  -->
		<h1>
			<span id="name">{{user.name}}</span>, <span id="age">{{user.age}}</span>
		</h1>
		<h2 id="teaser">{{user.tsr}}</h2>
		<div class="swiper">
			<img swipeable ng-swipe-left="swipe('left')" ng-swipe-right="swipe('right')" ng-src="{{user.img ? ('http://images.gotinder.com' + user.img) : ''}}">
		</div>

		<!-- buttons -->
		<div class="buttons">
			<div>
				<button ng-disabled="errors.noValidFaces" class="pure-button pure-button-primary button-xlarge" ng-click="swipe('left')">Dislike</button>
				<button ng-disabled="errors.noValidFaces" class="pure-button pure-button-primary button-xlarge" ng-click="swipe('right')">Like</button>
			</div>
			<div>
				<button class="pure-button pure-button-primary button-xlarge" ng-click="fetch()">Pass</button>
			</div>
		</div>

	</div>

	<div class="half-width">

		<!-- api error handling -->
		<div ng-if="errors.api">
			<h1>Error</h1>
			<p>{{errors.api}}</p>
			<button ng-click="fetch()" class="pure-button pure-button-primary button-xlarge">Pass</button>
		</div>

		<!-- show prediction as applicable -->
		<div ng-if="!errors.api && user.prediction">
			<h1>Prediction</h1>
			<p ng-if="user.prediction == 'like'">
				tinderX predicts that you will <b>LIKE</b> this user.
			</p>
			<p ng-if="user.prediction == 'dislike'">
				tinderX predicts that you will <b>DISLIKE</b> this user.
			</p>
		</div>

		<!-- no valid faces -->
		<div ng-if="!errors.api && errors.noValidFaces">
			<h1>No Valid Faces</h1>
			<p>tinderX failed to detect a valid face in this image. Therefore, no prediction was made and swiping has been disabled. Pass to the next user when ready.</p>
		</div>

		<!-- no image yet -->
		<div ng-if="!errors.api && errors.noImageYet">
			<h1>No Image Yet</h1>
			<p ng-if="errors.noImageYet == 'liked_img'">
				You must like at least one user before predictions will be made.
			</p>
			<p ng-if="errors.noImageYet == 'disliked_img'">
				You must dislike at least one user before predictions will be made.
			</p>
		</div>

		<!-- show the average liked / disliked image -->
		<div ng-if="!errors.api && !errors.noImageYet && !errors.noValidFaces">
			<div class="half-width">
				<h3>Average Disliked</h3>
				<img ng-src="{{'/img/disliked.jpg?r=' + random}}" alt="average disliked image">	
			</div>
			<div class="half-width">
				<h3>Average Liked</h3>
				<img ng-src="{{'/img/liked.jpg?r=' + random}}" alt="average liked image">
			</div>
		</div>
	</div>
</div>